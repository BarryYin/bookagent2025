<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>书籍PPT</title>
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #FFFFFF; color: #1D1D1F; overflow: hidden; }
        .presentation-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; }
        .slide { position: absolute; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; transform: translateX(100%); transition: all 0.5s ease; padding: 40px; box-sizing: border-box; text-align: center; }
        .slide.active { opacity: 1; transform: translateX(0); }
        .slide h1 { font-size: 4rem; font-weight: 300; margin-bottom: 20px; }
        .slide h2 { font-size: 2rem; font-weight: 400; color: #86868B; margin-bottom: 30px; }
        .slide p { font-size: 1.5rem; line-height: 1.6; max-width: 800px; }
        .navigation { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); display: flex; align-items: center; z-index: 1001; }
        .navigation button { background: #007AFF; color: white; border: none; padding: 12px 24px; margin: 0 15px; border-radius: 25px; cursor: pointer; font-size: 1.2rem; }
        .navigation button:disabled { background: #86868B; cursor: not-allowed; }
        .dot { width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); margin: 0 6px; cursor: pointer; }
        .dot.active { background: #007AFF; }
        .narration-panel { position: fixed; top: 30px; right: 30px; width: 350px; background: rgba(255,255,255,0.9); backdrop-filter: blur(20px); border-radius: 16px; padding: 20px; z-index: 1000; font-size: 1rem; }
        .author-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 20px;
            float: left;
            shape-outside: circle(50%);
        }
        .author-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .works-list {
            list-style: none;
            padding: 0;
        }
        .works-list li {
            margin-bottom: 5px;
        }
        .timeline {
            width: 80%;
            height: 10px;
            background-color: #ddd;
            margin: 20px auto;
            position: relative;
        }
        .timeline-event {
            position: absolute;
            top: -5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #007AFF;
            cursor: pointer;
        }
        .timeline-label {
            position: absolute;
            top: 20px;
            font-size: 0.8em;
        }
        .quote-box {
          font-style: italic;
          font-size: 2rem;
          line-height: 1.4;
          padding: 20px;
          border-left: 5px solid #007AFF;
          text-align: left;
        }
        .slide img {
          max-width: 500px;
          max-height: 400px;
        }
    </style>
</head>
<body>
    <div class="presentation-container" id="presentationContainer">
        <!-- Slides will be dynamically added here -->
    </div>
    <div class="navigation">
        <button id="prevButton" onclick="prevSlide()" disabled>← 上一页</button>
        <div class="dots" id="dotsContainer"></div>
        <button id="nextButton" onclick="nextSlide()">下一页 →</button>
    </div>
    <div class="narration-panel" id="narrationPanel"></div>

    <script>
        const bookData = {
            "book_title": "活着",
            "author": "余华",
            "summary": "《活着》讲述了地主少爷福贵历经时代变迁，从富家子弟沦为一无所有的老人的故事。他经历了战争、土改、大跃进、文化大革命等社会变革，目睹了亲人一个个离去，最终只剩下他和一头老牛相依为命。小说以平静而深刻的笔触展现了生命的坚韧和承受苦难的力量。福贵的一生充满了苦难，但他仍然努力活着，体现了对生命的敬畏和执着。",
            "core_ideas": [
                "生命的意义不在于结果，而在于活着的过程本身。",
                "苦难是人生的常态，重要的是如何在苦难中保持乐观和坚韧。",
                "活着是对幸福的渴望，即使幸福转瞬即逝，也要珍惜当下。",
                "个体命运在时代洪流下的无力感和被动性。",
                "亲情是支撑生命的重要力量，即使失去，也永远存在于记忆中。"
            ],
            "target_audience": [
                "对中国现当代文学感兴趣的读者",
                "对历史、社会和人生命题感兴趣的读者",
                "希望从文学作品中获得人生启示的读者",
                "寻求深度阅读体验的读者"
            ],
            "value_and_significance": "《活着》以其朴实而深刻的文字，展现了在苦难中坚守生命的尊严和力量。它引发人们对生命、苦难和幸福的思考，提醒人们珍惜当下，敬畏生命。小说具有深刻的社会意义，反映了特定历史时期的社会现实和底层人民的生活状况。它被翻译成多种语言，影响了世界各地的读者，成为中国当代文学的经典之作。",
            "suitable_ppt_chapters_themes": [
                "福贵的家庭变迁与时代背景",
                "战争对福贵命运的影响",
                "土改与福贵身份的转变",
                "亲人的逝去：苦难的叠加与生命的承受",
                "福贵与老牛：孤独与相依",
                "《活着》中的生命哲学：苦难与希望",
                "余华的叙事风格：平静下的深刻",
                "《活着》的社会意义和文学价值"
            ]
        };

        const slidesData = [
          {
            "slide_number": 1,
            "slide_type": "opening",
            "title": "活着",
            "subtitle": "一部关于生命与苦难的史诗",
            "main_content": "",
            "visual_elements": {
              "background_image": "简约背景，例如纯色或渐变色",
              "book_cover": "https://img3.doubanio.com/view/subject/l/public/s27241833.jpg",
              "logo": "若有出版社或相关机构的logo，可放置在角落"
            },
            "animation_entrance": "淡入",
            "key_message": "介绍书籍，引人入胜"
          },
          {
            "slide_number": 2,
            "slide_type": "author",
            "title": "余华",
            "subtitle": "用文字记录时代的疼痛",
            "main_content": "中国当代著名作家，代表作《活着》、《许三观卖血记》等。以其冷静而深刻的笔触，描绘了中国社会的变迁和人性的复杂。",
            "visual_elements": {
              "author_photo": "https://baike.baidu.com/pic/%E4%BD%99%E5%8D%8E/421663/0/4bed2e738bd4b31c8ad4b705.jpg",
              "author_biography": "作者简介文字，围绕照片排版",
              "other_works": "列出余华的其他代表作，以图标形式展示"
            },
            "animation_entrance": "滑动进入",
            "key_message": "介绍作者及其文学成就"
          },
          {
            "slide_number": 3,
            "slide_type": "concept",
            "title": "活着",
            "subtitle": "生命的意义在于过程",
            "main_content": "核心观点：生命的意义不在于结果，而在于活着的过程本身。无论遭遇多少苦难，都要努力地活下去，感受生命的美好。",
            "visual_elements": {
              "background_image": "日出或河流的抽象图片，象征生命的延续",
              "quote_icon": "引用符号图标，放在核心观点旁边",
              "typography": "大字体，醒目地展示核心观点"
            },
            "animation_entrance": "放大",
            "key_message": "阐述核心主题：活着本身就是意义"
          },
          {
            "slide_number": 4,
            "slide_type": "data",
            "title": "苦难",
            "subtitle": "时代洪流下的个体命运",
            "main_content": "福贵一生经历：战争、土改、大跃进、文革等。目睹亲人离世：父母、妻子、儿子、女儿、外孙相继去世。最终与老牛相依为命。",
            "visual_elements": {
              "timeline": "时间轴图表，展示福贵一生经历的重要事件",
              "family_tree": "简化版的家庭树，用图标表示家庭成员，标明去世年份",
              "iconography": "使用图标表示战争、土改等事件"
            },
            "animation_entrance": "层叠显示",
            "key_message": "数据化呈现福贵一生的苦难"
          },
          {
            "slide_number": 5,
            "slide_type": "quote",
            "title": "经典",
            "subtitle": "书中令人动容的语句",
            "main_content": "“最初我们来到这个世界，是因为不得不来；最终我们离开这个世界，是因为不得不走。”",
            "visual_elements": {
              "background_image": "泛黄的纸张纹理，增加怀旧感",
              "quote_mark": "引用符号，突出引文",
              "font_style": "使用书法字体或手写字体，增加艺术感"
            },
            "animation_entrance": "旋转",
            "key_message": "分享书中经典语录，引发共鸣"
          },
          {
            "slide_number": 6,
            "slide_type": "concept",
            "title": "坚韧",
            "subtitle": "苦难中的乐观与希望",
            "main_content": "尽管福贵经历了无数苦难，但他仍然努力活着，对生活充满希望。他用自己的行动诠释了生命的坚韧和力量。",
            "visual_elements": {
              "background_image": "破土而出的小草，象征生命力",
              "iconography": "象征希望的图标，例如阳光、绿叶",
              "color_scheme": "使用明亮、温暖的颜色，营造积极的氛围"
            },
            "animation_entrance": "从左到右",
            "key_message": "强调作品中蕴含的乐观主义精神"
          },
            {
            "slide_number": 7,
            "slide_type": "value",
            "title": "价值",
            "subtitle": "影响深远的文学经典",
            "main_content": "《活着》被翻译成多种语言，感动了无数读者。它引发了人们对生命、苦难和幸福的思考，具有深刻的社会意义和文学价值。",
            "visual_elements": {
              "world_map": "世界地图，突出翻译成多种语言的国际影响力",
              "award_icon": "文学奖项的图标，例如诺贝尔文学奖提名",
              "quotes_from_reviews": "摘录书评中的精彩语句"
            },
            "animation_entrance": "向上滑动",
            "key_message": "展现作品的社会意义和文学价值"
          },
          {
            "slide_number": 8,
            "slide_type": "summary",
            "title": "活着",
            "subtitle": "敬畏生命，珍惜当下",
            "main_content": "《活着》是一部关于生命、苦难和希望的伟大作品。它提醒我们，无论遭遇多少挫折，都要珍惜当下，敬畏生命。让我们一起阅读《活着》，感受生命的真谛！",
            "visual_elements": {
              "background_image": "星空或烟花的背景，营造美好的氛围",
              "book_cover": "https://img3.doubanio.com/view/subject/l/public/s27241833.jpg",
              "call_to_action": "二维码或链接，引导读者购买或阅读本书"
            },
            "animation_entrance": "淡出",
            "key_message": "总结全书，鼓励阅读"
          }
        ];

        const narrationData = [
          {
            "slide_number": 1,
            "opening": "Good morning, everyone! Today, we're not talking about iPhones or Macs. We're talking about something far more profound: Life itself.",
            "main_narration": "We're diving into a book that has touched millions, a story that stays with you long after you turn the final page. It's a modern epic of resilience and survival. I'm thrilled to introduce you to… '活着', or 'To Live'. A masterpiece by Yu Hua.",
            "key_emphasis": "‘To Live’ is more than just a book; it's an experience.",
            "transition": "Now, let’s meet the visionary behind this incredible story...",
            "timing": "30 seconds",
            "tone": "Enthusiastic, inviting"
          },
          {
            "slide_number": 2,
            "opening": "Great storytellers have the power to shape our perspective. And Yu Hua does just that.",
            "main_narration": "Yu Hua is one of China's most celebrated contemporary authors. Known for his unflinching portrayals of Chinese society, he brings a raw honesty to his work. He doesn’t shy away from the difficult, the painful, the real. His other masterpieces, like '许三观卖血记' or 'Chronicle of a Blood Merchant,' have cemented his place in literary history. But today, we focus on the book that truly captured the hearts of a nation… and the world.",
            "key_emphasis": "Yu Hua, a literary voice that resonates across continents.",
            "transition": "But what makes 'To Live' so special? Let's delve into its core...",
            "timing": "45 seconds",
            "tone": "Respectful, informative"
          },
          {
            "slide_number": 3,
            "opening": "At its heart, ‘To Live’ asks a simple yet profound question: What is the meaning of life?",
            "main_narration": "The answer, as Yu Hua presents it, is not about the destination, but the journey.  It's about embracing the present, finding joy in the small moments, and persevering even when faced with unimaginable hardship.  The central idea is clear: the value isn't in the ultimate outcome, but in *how* you live.",
            "key_emphasis": "'The meaning of life is in the living. Even in suffering, there is meaning.'",
            "transition": "The protagonist of ‘To Live’, Fugui, exemplifies this theme perfectly.  But to truly understand the power of his journey, we need to look at the challenges he faced.",
            "timing": "60 seconds",
            "tone": "Thoughtful, reflective"
          },
          {
            "slide_number": 4,
            "opening": "Fugui's life wasn't easy. In fact, it was filled with unimaginable tragedy.",
            "main_narration": "From the throes of war to the turmoil of the Cultural Revolution, Fugui's life was a constant battle against adversity. We're talking about war, land reform, the Great Leap Forward, and the Cultural Revolution – each a devastating event in its own right. And consider this: He outlived his entire family. His parents, his wife, his son, his daughter, his grandson… all gone. He was left with only an old ox for company. These are not just plot points; they are the realities of a life lived under immense pressure.",
            "key_emphasis": "Fugui's life is a testament to the enduring power of the human spirit, even in the face of relentless suffering.",
            "transition": "Amidst this profound sadness, Yu Hua weaves in moments of beauty and insight. Let's hear some of the book's most impactful words…",
            "timing": "60 seconds",
            "tone": "Somber, empathetic"
          },
          {
            "slide_number": 5,
            "opening": "Sometimes, a few words can encapsulate the entire human experience.",
            "main_narration": "‘最初我们来到这个世界，是因为不得不来；最终我们离开这个世界，是因为不得不走。’ (Initially, we come to this world because we have to; eventually, we leave this world because we have to.) It's a simple, stark observation about the inevitability of life and death. There's a profound sense of acceptance in these words, a recognition that our time here is finite, and we must make the most of it.",
            "key_emphasis": "These words remind us of our shared humanity, our common destiny.",
            "transition": "But even in the face of death, there's a glimmer of hope, a testament to the enduring spirit of survival...",
            "timing": "45 seconds",
            "tone": "Contemplative, poignant"
          },
          {
            "slide_number": 6,
            "opening": "‘To Live’ is not just about suffering. It’s about resilience.",
            "main_narration": "Despite losing everything, Fugui never gives up. He continues to work, to care, to find small moments of joy in the everyday. He embodies the idea that even when faced with the most overwhelming challenges, we have the power to choose hope. He shows us what it means to persist, to endure, and ultimately, to live.",
            "key_emphasis": "Fugui is a symbol of hope in a world of despair.",
            "transition": "And this message has resonated with people around the globe. Let's look at the impact of 'To Live' on the world stage...",
            "timing": "45 seconds",
            "tone": "Inspirational, uplifting"
          },
          {
            "slide_number": 7,
            "opening": "'To Live' is more than a book; it's a global phenomenon.",
            "main_narration": "Translated into countless languages, 'To Live' has touched readers from all walks of life. It’s a book that transcends cultural boundaries, speaking to our shared human experience. And while awards are not the measure of a book's worth, the recognition 'To Live' has received underscores its profound impact on the literary world.  Reviews highlight its stark beauty and the enduring power of its message. It offers a profound reflection of life, suffering, and happiness.",
            "key_emphasis": "A global story, resonating with a universal audience.",
            "transition": "So, what's the takeaway from Fugui's incredible journey?...",
            "timing": "45 seconds",
            "tone": "Informative, proud"
          },
          {
            "slide_number": 8,
            "opening": "‘To Live’ is a book that will stay with you long after you finish reading it.",
            "main_narration": "It's a story of resilience, hope, and the enduring power of the human spirit. It reminds us to cherish the present, to appreciate the small moments, and to never give up, even when faced with the greatest of challenges.  It forces us to confront the uncomfortable truths of life and to reflect on what it truly means to live. Read ‘To Live’ and let its story transform your perspective.  Let's respect life, appreciate the present.",
            "key_emphasis": "Read 'To Live'. It will change the way you see the world.",
            "transition": "Thank you.",
            "timing": "30 seconds",
            "tone": "Passionate, encouraging"
          }
        ];

        let currentSlide = 0;
        const presentationContainer = document.getElementById('presentationContainer');
        const narrationPanel = document.getElementById('narrationPanel');
        const dotsContainer = document.getElementById('dotsContainer');

        // Function to generate slides dynamically
        function generateSlides() {
            slidesData.forEach((slideData, index) => {
                const slide = document.createElement('div');
                slide.classList.add('slide');
                if (index === 0) slide.classList.add('active');

                let content = '';

                switch (slideData.slide_type) {
                    case 'opening':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            ${slideData.visual_elements.book_cover ? `<img src="${slideData.visual_elements.book_cover}" alt="Book Cover">` : ''}
                        `;
                        break;
                    case 'author':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <div style="display: flex; align-items: flex-start; text-align: left;">
                                <div class="author-photo">
                                    <img src="${slideData.visual_elements.author_photo}" alt="Author Photo">
                                </div>
                                <p>${slideData.main_content}</p>
                            </div>
                            <h3 style="margin-top: 20px;">代表作</h3>
                            <ul class="works-list">
                                <li>活着</li>
                                <li>许三观卖血记</li>
                            </ul>
                        `;
                        break;
                    case 'concept':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <p>${slideData.main_content}</p>
                        `;
                        break;
                    case 'data':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <p>${slideData.main_content}</p>
                        `;
                        break;
                    case 'quote':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <div class="quote-box">
                              ${slideData.main_content}
                            </div>
                        `;
                        break;
                    case 'concept':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <p>${slideData.main_content}</p>
                        `;
                        break;
                    case 'value':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <p>${slideData.main_content}</p>
                        `;
                        break;
                    case 'summary':
                        content = `
                            <h1>${slideData.title}</h1>
                            <h2>${slideData.subtitle}</h2>
                            <p>${slideData.main_content}</p>
                        `;
                        break;
                    default:
                        content = `<h1>Slide ${slideData.slide_number}</h1><p>Content for slide ${slideData.slide_number}</p>`;
                }

                slide.innerHTML = content;
                presentationContainer.appendChild(slide);
            });
        }

        // Generate Navigation Dots
        function generateNavigationDots() {
            const totalSlides = slidesData.length;
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                if (i === 0) dot.classList.add('active');
                dot.addEventListener('click', () => showSlide(i));
                dotsContainer.appendChild(dot);
            }
        }

        // Show Slide Function
        function showSlide(n) {
            if (n < 0 || n >= slidesData.length) return;

            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            slides[n].classList.add('active');

            currentSlide = n;
            updateUI(n);
        }

        // Next Slide Function
        function nextSlide() {
            if (currentSlide < slidesData.length - 1) {
                showSlide(currentSlide + 1);
            }
        }

        // Previous Slide Function
        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Update User Interface Function
        function updateUI(n) {
            document.getElementById('prevButton').disabled = n === 0;
            document.getElementById('nextButton').disabled = n === slidesData.length - 1;

            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, i) => dot.classList.toggle('active', i === n));

            updateNarration(n);
        }

        // Update Narration Function
        function updateNarration(n) {
            const narration = narrationData.find(item => item.slide_number === n + 1);
            if (narration) {
                narrationPanel.innerHTML = `<p>${narration.opening}</p><p>${narration.main_narration}</p>`;
            } else {
                narrationPanel.textContent = 'No narration for this slide.';
            }
        }

        // Keydown Event Listener
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // Initialize Presentation
        generateSlides();
        generateNavigationDots();
        updateUI(0);
    </script>
</body>
</html>
